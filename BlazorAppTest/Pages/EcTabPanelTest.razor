@page "/EcTabPanelTest"

<h1>EcTabPanel</h1>

<EcTabPanel @bind-ActiveTabId="activeTabId">
	<EcTab Id="1" Title="First">
		<Content>This is the first tab.</Content>
	</EcTab>
	<EcTab Id="2">
		<TitleTemplate>@secondTabTitle</TitleTemplate>
		<Content>This is the second tab with title "@secondTabTitle".</Content>
	</EcTab>
	<EcTab Enabled="false" Visible="@thirdTabVisible">
		<TitleTemplate>Disabled</TitleTemplate>
		<Content>This is the disabled tab.</Content>
	</EcTab>
</EcTabPanel>

<p>activeTabId: @activeTabId</p>
<p>thirdTabVisible: @thirdTabVisible</p>

<EcButton Text="Activate 2nd tab" Enabled="@(activeTabId != "2")" OnClick="HandleActivateSecondTabButtonClick" Color="ThemeColor.Primary" />
<EcButton Text="Update 2nd tab title" OnClick="HandleUpdateSecondTabTitleButtonClick" Color="ThemeColor.Primary" />
<EcButton Text="Toggle 3rd tab visibility" OnClick="HandleToggleThirdTabVisibilityButtonClick" Color="ThemeColor.Primary" />

@code{
	private string activeTabId;
	private string secondTabTitle = "Second";
	private bool thirdTabVisible = true;

	private void HandleActivateSecondTabButtonClick()
	{
		activeTabId = "2";
	}

	private void HandleUpdateSecondTabTitleButtonClick()
	{
		i += 1;
		secondTabTitle = $"Second ({i})";
	}
	int i = 0;

	private void HandleToggleThirdTabVisibilityButtonClick()
	{
		thirdTabVisible = !thirdTabVisible;
	}
}